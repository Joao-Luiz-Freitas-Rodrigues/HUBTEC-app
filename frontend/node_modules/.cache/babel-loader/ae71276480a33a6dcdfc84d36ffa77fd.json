{"ast":null,"code":"import { fork, takeEvery, put, call, all } from 'redux-saga/effects';\nimport axios from 'axios'; //CONJUNTO DE FUNÇÕES PARA VALIDAÇÃO DE USUÁRIO\n\nfunction getUser(user) {\n  console.log(user.email);\n  return axios({\n    method: 'GET',\n    url: 'http://localhost:3001/authenticate',\n    params: {\n      email: user.email,\n      password: user.password\n    }\n  });\n}\n\nfunction* asyncLogIn(action) {\n  console.log(\"entrou na funcao do saga\");\n  const response = yield call(getUser, action.payload);\n  console.log(response);\n\n  if (response.status === 200) {\n    yield put({\n      type: 'LOG_IN',\n      payload: true\n    });\n  } else {\n    alert(\"nao deu\");\n    console.log(\"nao deu\");\n  }\n}\n\nfunction* watcher() {\n  console.log(\"watcher\");\n  yield takeEvery('ASYNC_LOG_IN', asyncLogIn);\n}\n\nexport default function* root() {\n  console.log(\"entrou no root\");\n  yield all([fork(watcher)]);\n}","map":{"version":3,"sources":["/Users/mac/Documents/workspace/react/frontend/src/store/sagas.js"],"names":["fork","takeEvery","put","call","all","axios","getUser","user","console","log","email","method","url","params","password","asyncLogIn","action","response","payload","status","type","alert","watcher","root"],"mappings":"AAAA,SAASA,IAAT,EAAeC,SAAf,EAA0BC,GAA1B,EAA+BC,IAA/B,EAAqCC,GAArC,QAAgD,oBAAhD;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAIA;;AACA,SAASC,OAAT,CAAiBC,IAAjB,EAAsB;AAClBC,EAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,KAAjB;AAEA,SAAOL,KAAK,CAAC;AACTM,IAAAA,MAAM,EAAE,KADC;AAETC,IAAAA,GAAG,EAAC,oCAFK;AAGTC,IAAAA,MAAM,EAAC;AACHH,MAAAA,KAAK,EAACH,IAAI,CAACG,KADR;AAEHI,MAAAA,QAAQ,EAAEP,IAAI,CAACO;AAFZ;AAHE,GAAD,CAAZ;AAQH;;AAED,UAAUC,UAAV,CAAqBC,MAArB,EAA4B;AACxBR,EAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AAEA,QAAMQ,QAAQ,GAAG,MAAMd,IAAI,CAACG,OAAD,EAAUU,MAAM,CAACE,OAAjB,CAA3B;AACAV,EAAAA,OAAO,CAACC,GAAR,CAAYQ,QAAZ;;AAEA,MAAGA,QAAQ,CAACE,MAAT,KAAoB,GAAvB,EAA2B;AACvB,UAAMjB,GAAG,CAAC;AAAEkB,MAAAA,IAAI,EAAE,QAAR;AAAkBF,MAAAA,OAAO,EAAE;AAA3B,KAAD,CAAT;AAEH,GAHD,MAGK;AACDG,IAAAA,KAAK,CAAC,SAAD,CAAL;AACAb,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AAEH;AACJ;;AAED,UAAUa,OAAV,GAAmB;AACfd,EAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AAEA,QAAMR,SAAS,CAAC,cAAD,EAAiBc,UAAjB,CAAf;AAEH;;AAED,eAAe,UAAUQ,IAAV,GAAgB;AAC3Bf,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACA,QAAML,GAAG,CAAC,CACNJ,IAAI,CAACsB,OAAD,CADE,CAAD,CAAT;AAGH","sourcesContent":["import { fork, takeEvery, put, call, all } from 'redux-saga/effects'; \nimport axios from 'axios';\n\n\n\n//CONJUNTO DE FUNÇÕES PARA VALIDAÇÃO DE USUÁRIO\nfunction getUser(user){\n    console.log(user.email);\n    \n    return axios({\n        method: 'GET',\n        url:'http://localhost:3001/authenticate',\n        params:{\n            email:user.email,\n            password: user.password\n        }\n    })\n}\n\nfunction* asyncLogIn(action){\n    console.log(\"entrou na funcao do saga\");\n    \n    const response = yield call(getUser, action.payload);\n    console.log(response);\n    \n    if(response.status === 200){\n        yield put({ type: 'LOG_IN', payload: true});\n\n    }else{\n        alert(\"nao deu\");\n        console.log(\"nao deu\");\n        \n    }\n}\n\nfunction* watcher(){\n    console.log(\"watcher\");\n    \n    yield takeEvery('ASYNC_LOG_IN', asyncLogIn)\n\n}\n\nexport default function* root(){ \n    console.log(\"entrou no root\");\n    yield all([\n        fork(watcher)\n    ])    \n}\n"]},"metadata":{},"sourceType":"module"}